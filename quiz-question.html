<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/core-list/core-list.html">
<link rel="import" href="bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="bower_components/core-ajax/core-ajax.html">
<link rel="import" href="quiz-card.html">


<polymer-element name="quiz-question" attributes="data" extends="quiz-card">
	<template>
  <style>
  .contentStyle {
      border: grey;
      border-style: solid;
      border-width: thin;
      width: 19.3em;
      max-width: 30%;
      margin-left: 35%;
    }
  </style>

	<core-ajax	id="dataajax"	url="{{data}}"	handleAs="json"	on-core-response="{{handleResponse}}"></core-ajax>

    <div id="frame" style="opacity:0;" >
      <div id="cont" class="contentStyle" >
        {{question}}?

        <hr style="width:100%;">
        <br clear="all">

        <div id="answers">

        </div>
      </div>
    </div>

	</template>

	<script>
		Polymer({
      data:"",
      question:"",

			handleResponse: function(ev) {

				response = ev.detail.response;

				this.question = response.question;

				i = 0;
        for(i =0; i < response.answers.length; i++) {
          check = document.createElement('paper-checkbox');
          this.$.answers.appendChild(check);
          check.label = response.answers[i].answer;
        }
			},

			loadData: function() {
				this.$.dataajax.go();
			}

			/*,ready: function(){
        i = 0;
        for(i =0; i < this.data.length; i++) {
          check = document.createElement('paper-checkbox');
          this.$.answers.appendChild(check);
          check.label = this.data[i].answer;
        }

        this.super();
			},*/
    })
	</script>
</polymer-element>
